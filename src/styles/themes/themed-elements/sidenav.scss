@use '~@angular/material' as mat;
@import "~src/styles/base/variables";

@mixin bookish-guacamole-sidenav-theme($theme) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  $foreground: map-get($theme, foreground);
  $background: map-get($theme, background);
  $divider: map-get($foreground, divider);

  mat-sidenav-container {
    height: 100%;

    .sidenav {
      padding-bottom: $bookish-guacamole-sidebar-toggle-size;
      border-right-width: 0;
      width: $bookish-guacamole-sidebar-width-default;
      background-size: cover;
      box-shadow: 0 16px 38px -12px rgb(0 0 0 / 56%), 0 4px 25px 0 rgb(0 0 0 / 12%), 0 8px 10px -5px rgb(0 0 0 / 20%);
      display: flex;
      flex-direction: column;

      &:before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: rgba(mat.get-color-from-palette($background, background), 0.9);
        z-index: 1;
      }

      .mat-drawer-inner-container {
        flex-grow: 1;

        display: flex !important;
        flex-direction: column;

        /* for Firefox */
        min-height: 0;
        z-index: 2;
      }

      &__logo {
        padding: 16px;
        text-align: center;
        text-transform: uppercase;
        font-size: 16px;
        display: flex;
        align-items: center;
        background: mat.get-color-from-palette($background, background);

        &__image {
          height: 40px;
        }

        &__title {
          padding-left: 12px;
        }
      }

      &__list {
        flex-grow: 1;

        overflow: auto;

        /* for Firefox */
        min-height: 0;

        display: flex;
        flex-direction: column;
        padding: 16px;

        &__item {
          height: 50px;
          padding: 0 12px;
          margin-bottom: 12px;
          transition: all $bookish-guacamole-transition-default ease-in-out;
          display: flex;
          flex-shrink: 0;
          align-items: center;
          text-decoration: none;
          background: transparent;
          border-radius: $bookish-guacamole-border-radius-default;

          &:hover {
            background-color: rgba(mat.get-color-from-palette($foreground, text), 0.1);
          }

          &__icon {
            margin-right: 12px;
            color: mat.get-color-from-palette($foreground, icon);
          }

          &--active {
            color: $bookish-guacamole-color-white;
            background-color: mat.get-color-from-palette($accent) !important;
            box-shadow: 0 4px 20px 0 rgb(0 0 0 / 14%), 0 7px 10px -5px rgba(mat.get-color-from-palette($accent), 0.6);

            * {
              color: $bookish-guacamole-color-white;
            }
          }
        }
      }
    }
  }
}
